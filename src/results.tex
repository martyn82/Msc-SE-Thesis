\chapter{Results}
\label{results}

\section{Data}
The data set of 250 projects was gathered in July 2013. It contains monthly
data points for each project up to June 2013.

The data set was tested for representativeness using the tool by
\citet{nagappan}. The data set scored a 99.5\% representativeness to the tool's
master data of 20,028 projects tracked by Ohloh.

\paragraph{}
The final data set contains monthly evolution data of 250 distinct projects
having a total of 22,943 data points. The oldest project having 321 monthly
data points, the youngest having 14 monthly data points. The first data point
in the set is of October 1986.

\section{Dead projects}
\label{section:deads}
A total of 38 (15.2\%) projects complied to the definition of a dead project as
defined in section \ref{def:dead}. Manual verification of the 38 potential
dead projects using the project's websites, source code repositories, and
commit history up to April 2014, revealed that 21 (8.4\%) are still complying
to the definition of a dead project by April 2014.

\paragraph{}
The 21 dead projects and their $age\_in\_months$ at the moment of death as a
result of the verification are shown in Table \ref{table:deads}.

\input{tables/deads}

\paragraph{}
All, except one, of the projects in Table \ref{table:deads} are dead because it
was abandoned by the community of contributors. Except for project \#587204,
which is still receiving updates, but at very slow and sporadic intervals.
However, since the updates do not involve code activity, it is considered dead.

\paragraph{}
When looking into project \#317799, which is the youngest in this set and died
in its second month, it shows that this project has had a history of the slightest
change in its lines of code evolution. The project has had a total number of 7
commits during the time it is being tracked by Ohloh (since September 2011). A
total of 4 contributors have worked on the project since it was tracked. The
most recent commit was done in October 2011.

\paragraph{}
Project \#12547 is the oldest. It died after 142 tracked months and has
had its most recent commits in February 2012. A total of 10 contributors have
worked on this project since May 2000.

\paragraph{}
The special case project \#587204 is the only project that is not abandoned by
its (entire) community. The project has had 3 contributors over its lifetime.
One of them is still active every now and then. The most recent commits were
done in January 2014, the commits before that were in June 2012.
The commits involved updates in documentation, and the creation of a
configuration file for a continuous integration server. These commits do not
involve code changes.

The project died in July 2012, after 8 months since the first data point
tracked.

\paragraph{}
From the initial 38 projects, the remaining 17 projects complying to the
definition of dead (section \ref{def:dead}) appeared to be still alive. These
17 projects are evaluated:

\begin{itemize}
	\item For 9 of the projects activity is very low or rapidly decreasing. Their
		community is slowly but surely abandoning the project as can be seen by a
		decrease of 35\% to 55\% of contributors, and/or commits.

	\item 5 of the projects are migrated to another source code repository. For
		these projects the tracking information is not updated at Ohloh and are lost.
		The tracking is stopped from the moment the project is migrated. The tracking
		and analysis can be recovered by updating the source code locations at Ohloh,
		but for this study the project is out of sight.

	\item The 3 projects that have had no activity in a year (i.e, were dead), but
		after that show little increase of activity are more difficult to explain.
		Manual evaluation showed that there exist similar projects outside the data
		set that eventually die, but there are also similar projects that eventually
		got 'resurrected'.
\end{itemize}



\section{Sequences and patterns}
\label{section:seqs_patterns}
The wavelet transform of the LOC signals of 250 projects resulted in 22,943
data points decomposed up to 7 levels into wavelet/shift and filter/scale
coefficients.

\input{tables/sequence_counts}

\noindent
As shown in Table \ref{table:sequence_counts}, the similar sequence
identification found a total of 1,669,448 sequences that occurred at least 2
times. A mere 16 sequences were found in wavelet/shift coefficients, the other
1,669,432 sequences were found in filter/scale coefficients.

\paragraph{}
The second wavelet analysis step aggregated similar sequences across multiple
pairs together to form patterns. The detection of these 'popular sequences'
found 16,049 patterns. The patterns consist only of sequences of scale/filter
coefficients.

\paragraph{}
The patterns occurred between 5 and 1,512 times across the projects. On
average, a pattern occurs 104 times. A single pattern occurs in at least 1 and
at most 204 projects (36 projects on average). The pattern length is between 4
and 19 coefficients (on average 6) across decomposition levels 3 to 7.

On the 3\textsuperscript{th} level, the average pattern length is equal to 4
coefficients. At every subsequent level the average pattern length is doubled.
This is expected as there are twice as many coefficients available. This means
the same pattern is detected at multiple levels.

\paragraph{}
Table \ref{table:pattern_counts} presents the numbers of patterns
detected and occurring across projects. Recall the distinction between
detecting and occurring patterns from section \ref{def:pattern}.

\input{tables/pattern_counts}

\noindent
As can be seen from Table \ref{table:pattern_counts}, 16,049 patterns were
detected across 250 projects, which is 64.2 patterns per project on average;
14,965 patterns were detected across 229 alive projects (65.3 patterns on
average per project); and 1,084 patterns detected in 21 dead projects (an
average of 51.6 patterns per project). The averages do not differ significantly
over the projects.

\paragraph{}
An arbitrary pattern that was found is shown in Figure
\ref{figure:patterns_plots}. The graph shows the similarity of the pattern with
its occurrences across multiple projects. Time is indexed and LOC is
represented as coefficients. This is due to the fact that wavelet transform
scales and filters these measures and thus no longer represent real-world
values such as months or actual lines of code.

\input{figures/patterns_plots}



\section{Pattern classification}
The classification of the patterns was done to distinguish different types of
patterns to be able to find evolutionary events. For this, the patterns
detected in dead projects were taken and classified according to
the definitions in section \ref{section:patterns_dead}. It is expected that
the dead projects have the highest chance of keeping a pattern indicating
an evolutionary event leading to the end of code evolution.

\paragraph{}
A total of 1,084 patterns detected in dead projects is classified. The sizes of
the pattern type subsets are shown in Table \ref{table:pattern_type_counts}.
For each subset, it is stated in how many projects a pattern of that type was
found.

\input{tables/pattern_type_counts}

\section{Survivability}
As described in section \ref{section:survivability}, the survivability of the
projects having a type A pattern is estimated.

The groups G0 -- projects without an occurrence of a type A pattern --, and G1
-- the projects having an occurrence of a type A pattern -- both contain 93
projects. Projects in G1 are selected by the characteristic of the occurrence
of a type A pattern. This comprises 93 different projects as can be seen in
Table \ref{table:pattern_type_counts}. The projects for the control group G0
are selected as not occurring in G1 and being representative to the whole set
of 250 projects.

In the next sections both groups of projects are evaluated.

\subsection{Group G0}
\label{section:group_g0}
Group G0 contains 4 dead projects. These projects are shown in Table
\ref{table:deads_g0}. As stated in section \ref{section:deads}, all dead
projects except \#587204 are abandoned by their communities.

\input{tables/deads_g0}

\noindent
Table \ref{table:deads_g0} shows that the four dead projects of group G0 have
no pattern of type A, which is true by the definition of the group. However,
they do all have occurrences of patterns of type AB. This means that there are
patterns detected in these four projects that occur near and last until the end
of code evolution of these projects. Further evaluation shows that the 42 AB
patterns from these four projects all show a stagnation in LOC change. The
difficulty is that the type AB patterns also occur somewhere else in a dead
project's evolution, which makes it hard by current definitions to identify as
possible warning signs.

\paragraph{}
The other 89 projects of G0 stay alive. Their age varies between 13 and 255
months.

\subsection{Group G1}
\label{section:group_g1}
The dead projects in group G1 are shown in Table \ref{table:deads_g1}. The
column 'TTL' ('time to live') states the number of months the project has
lived between the 'diagnosis' of the type A pattern and the death of the
project. The 'Diagnosed' column states the age in months the pattern was found.

\input{tables/deads_g1}

\noindent
All projects in Table \ref{table:deads_g1} are abandoned (see section
\ref{section:deads}). One quarter of the projects in the table live 9 months
after a type A pattern was found. Another quarter lives 36 months after
diagnosis. The dead projects in group G1 on average live up to 30 months since
a type A pattern was found.

Project \#15700 is an outlier; an occurrence of a type A pattern was found when
the project was 1 month old, but it lived for another 10 years before it died.

\paragraph{}
The majority (79) of the projects in group G1 are still alive. The 75 projects
that have been 'diagnosed' of a type A pattern have had the occurrence in their
first month of age. In only 4 projects the pattern was found later: 23, 33, 52
and 62 months.

\subsection{Estimation of survival}
\label{section:kp_survival_results}
The Kaplan-Meier estimation of survival function for the projects is shown in
Figure \ref{figure:kp_survival}, having the survival probability on the
vertical axis, and the age in months of projects on the horizontal axis.

The numbers at the bottom, divided in two rows representing group 0 and group
1, represent the number of projects alive per group at the corresponding point
on the horizontal axis.

\input{figures/kp_survival}

\noindent
The Kaplan-Meier estimation of the survival function of the projects as shown
in Figure \ref{figure:kp_survival} visualise the survival probability of
the projects with and without the occurrence of a type A pattern.

The figure shows a p-value of $p = 0.00835$. This is the log-rank value
representing the equality of the two groups. In general, a p-value of $p >
0.05$ indicates the two groups are incomparable (i.e., the two groups do not
show significant differences). Thus, a p-value of $p = 0.00835$ indicates
comparable groups. Typically, the larger the groups, the lower the p-value.
It seems a group size of 93 projects is large enough to estimate survivability
of projects having an occurrence of a type A pattern.

\paragraph{}
Figure \ref{figure:kp_survival} shows that the projects of G0 have a survival
chance of approximately 93\% after the first year. In the first 12 months, the
survival chances drop to around 86\%. After that, the survival chance remains
stable for projects in G0.

More than half of the projects in G0 lives longer than 84 months (7 years)
against 72 months (6 years) in G1. A quarter of the projects in G0 lives longer
than 144 months (12 years), against 108 months (9 years) in G1. Two projects of
G0 outlives all projects in G1 after 18 years.

\paragraph{}
During the first year, the projects of G1 have 3\% higher survival chance than
those of G0: approximately 96\%. It is after 4 years that the projects of G1
have a lower survival chance than those in G0. Between approximately 3.2 and
3.8 years of age, projects in both groups show equal survival chances.

\begin{comment}
- Factual results
- Tables and figures for clarification

This chapter presents and clarifies the results obtained during the research.
The focus should be on the factual results, not the interpretation or
discussion. Tables and graphics should be used to increase the clarity of the
results where applicable.
Have a look at the the results chapter in this example thesis on Paul’s
homepage\footnote{http://homepages.cwi.nl/~paulk/thesesMasterSoftwareEngineering/2006/ArnoldLankamp.pdf}.
\end{comment}
